#### 什么是虚拟DOM
- 虚拟DOM的本质就是一个JS对象，虚拟DOM减少了真实DOM的操作，当修改数据的时候，就是修改虚拟DOM产生全新的虚拟DOM，
- 新旧虚拟DOM使用diff算法，得到patch(也就是需要修改的部分)，然后将这个patch打到浏览器的DOM上（减少重绘和回流，从而达到性能优化的目的）
- 每次DOM操作会引起重绘或者回流，频繁的真实DOM的修改会触发多次的排版和重绘相当耗性能
这是DOM的代码：
```js
<div>
	<p>test</p>
</div>
```
这是虚拟DOM的伪代码：
```js
var Vnode = {
    tag: 'div',
    children: [
        { tag: 'p', text: 'test' }
    ]
};
```

#### 虚拟DOM为什么会提高性能？
- 虚拟DOM提高性能，不是说不操作DOM，而是减少操作DOM的次数，减少回流和重绘
虚拟 dom 相当于在 js 和真实 dom 中间加了一个缓存，利用 dom diff 算法避免了没有必要的 dom 操作，从而提高性能
1、用 JavaScript 对象结构表示 DOM 树的结构；
2、然后用这个树构建一个真正的 DOM 树，插到文档当中
3、当状态变更的时候，重新构造一棵新的对象树
4、然后用新的树和旧的树进行比较，记录两棵树差异
5、把所记录的差异应用到步骤 2所构建的真正的 DOM 树上，视图就更新了


#### 虚拟 DOM 的优缺点
- 优点：
  1、保证性能下限： 框架的虚拟 DOM 需要适配任何上层 API 可能产生的操作，它的一些 DOM 操作的实现必须是普适的，所以它的性能并不是最优的；但是比起粗暴的 DOM 操作性能要好很多，因此框架的虚拟 DOM 至少可以保证在你不需要手动优化的情况下，依然可以提供还不错的性能，即保证性能的下限
  2、无需手动操作 DOM： 我们不再需要手动去操作 DOM，只需要写好 View-Model 的代码逻辑，框架会根据虚拟 DOM 和 
  3、跨平台： 虚拟 DOM 本质上是 JavaScript 对象,而 DOM 与平台相关，相比之下虚拟 DOM 可以进行更方便地跨平台操作，例如服务器渲染、weex 开发等等。

- 缺点：无法进行极致优化： 虽然虚拟 DOM合理的优化，足以应对绝大部分应用的性能需求，但在一些性能要求极高的应用中虚拟 DOM 无法进行针对性的极致优化。
  

#### DOM diff 是什么
- DOM diff 其实就是虚拟 DOM 的对比算法，该算法主要是对比两棵虚拟 DOM 的不同点。在 Vue 和 React 中，两者的共同点是在 DOM diff 时都是："只进行同级节点的比较，忽略跨级节点"。


#### DOM diff 的优点
1.进行同级比较
2.可以跨平台

#### DOM diff 的问题（key）
1.同级比较存在Bug

2.解决方法：用Key值进行区分